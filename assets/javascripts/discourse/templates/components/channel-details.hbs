<div class="channel-header">
  <div class="pull-right">
    {{d-button
      action=editChannel
      actionParam=channel
      icon="pencil-alt"
      title="chat_integration.edit_channel"
      label="chat_integration.edit_channel"
    }}

    {{d-button
      action=test
      actionParam=channel
      icon="rocket"
      title="chat_integration.test_channel"
      label="chat_integration.test_channel"
      class="btn-chat-test"
    }}

    {{d-button
      class="cancel delete-channel"
      action=(action "deleteChannel")
      actionParam=channel
      icon="trash-alt"
      title="chat_integration.delete_channel"
      label="chat_integration.delete_channel"
    }}
  </div>

  <span class="channel-title">
    {{#if channel.error_key}}
      {{d-button
        action=showError
        actionParam=channel
        class="delete btn-danger"
        icon="exclamation-triangle"
      }}
    {{/if}}

    {{channel-data provider=provider channel=channel}}
  </span>
</div>

<div class="channel-body">
  <table>
    <thead>
      <tr>
        <th>{{i18n "chat_integration.rule_table.filter"}}</th>
        <th>{{i18n "chat_integration.rule_table.category"}}</th>

        {{#if siteSettings.tagging_enabled}}
          <th>{{i18n "chat_integration.rule_table.tags"}}</th>
        {{/if}}

        <th></th>
      </tr>
    </thead>

    <tbody>
      {{#each channel.rules as |rule|}}
        {{rule-row rule=rule edit=(action "editRule") refresh=refresh}}
      {{/each}}
    </tbody>
  </table>
</div>

<div class="channel-footer">
  <div class="pull-right">
    {{d-button
      action=createRule
      actionParam=channel
      icon="plus"
      title="chat_integration.create_rule"
      label="chat_integration.create_rule"
    }}
  </div>
</div>
